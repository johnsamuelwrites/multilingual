استيراد math
من math استيراد sqrt كـ root_fn

ليكن عداد_مشترك = 3

دالة زيادة_عام():
    عام عداد_مشترك
    عداد_مشترك = عداد_مشترك + 2
    إرجاع عداد_مشترك

دالة إنشاء_عداد(بداية):
    ليكن total = بداية
    دالة خطوة():
        غير_محلي total
        total = total + 1
        إرجاع total
    إرجاع خطوة

ليكن العداد_التالي = إنشاء_عداد(5)
ليكن الخطوة_الأولى = العداد_التالي()
ليكن الخطوة_الثانية = العداد_التالي()

مع افتح("tmp_complete_en.txt", "w", encoding="utf-8") كـ مقبض_الكتابة:
    مقبض_الكتابة.write("ok")

ليكن نص_الملف = ""
مع افتح("tmp_complete_en.txt", "r", encoding="utf-8") كـ مقبض_القراءة:
    نص_الملف = مقبض_القراءة.read()

ليكن أزواج_مربوطة = قائمة(اربط([1, 2, 3], [4, 5, 6]))
ليكن قيم_فريدة = مجموعة([1, 1, 2, 3])
ليكن قيم_ثابتة = تيوبل([10, 20, 30])
ليكن العنصر_الأول, *العناصر_الوسطى, العنصر_الأخير = [1, 2, 3, 4]
ليكن خريطة_مدمجة = {**{"x": 1}, **{"y": 2}}

دالة تنسيق_الوسم(a, /, *, b):
    إرجاع f"{a}-{b:.1f}"

ليكن العلامة_منسقة = تنسيق_الوسم(7, b=3.5)
ليكن بذرة = 0
ليكن قيمة_الشارب = (بذرة := بذرة + 9)

صنف صندوق_العداد:
    دالة __init__(self, أساس_البداية):
        self.القيمة = أساس_البداية

صنف صندوق_العداد_الفرعي(صندوق_العداد):
    دالة __init__(self, أساس_البداية):
        فئة_أب(صندوق_العداد_الفرعي, self).__init__(أساس_البداية)
        self.القيمة = self.القيمة + 1

دالة إنتاج_ثلاثة():
    لكل فهرس في مدى(3):
        أنتج فهرس

ليكن المجموع_المُنتج = مجموع(إنتاج_ثلاثة())
ليكن التعامل_معها = خطأ

حاول:
    إذا طول(قيم_فريدة) > 2:
        ارفع ValueError("boom")
استثناء ValueError كـ خطأ_تم_التعامل:
    التعامل_معها = صحيح
أخيراً:
    ليكن قيمة_الجذر = عدد_صحيح(root_fn(16))

ليكن قيمة_مؤقتة = 99
احذف قيمة_مؤقتة

ليكن تراكم_الحلقة = 0
لكل n في مدى(6):
    إذا n == 0:
        مرر
    إذا n == 4:
        توقف
    إذا n % 2 == 0:
        استمر
    تراكم_الحلقة = تراكم_الحلقة + n

ليكن الراية_صحيحة = صحيح و ليس خطأ
تأكيد الراية_صحيحة

ليكن صندوق_الفرع = صندوق_العداد_الفرعي(40)

طباعة(زيادة_عام())
طباعة(الخطوة_الأولى, الخطوة_الثانية)
طباعة(نص_الملف)
طباعة(طول(أزواج_مربوطة), طول(قيم_فريدة), قيم_ثابتة[1])
طباعة(العنصر_الأول, العناصر_الوسطى, العنصر_الأخير)
طباعة(صندوق_الفرع.القيمة)
طباعة(المجموع_المُنتج, قيمة_الجذر, التعامل_معها)
طباعة(خريطة_مدمجة["x"] + خريطة_مدمجة["y"], العلامة_منسقة, قيمة_الشارب)
طباعة(تراكم_الحلقة)
طباعة(عداد_مشترك هو لاشيء)

# Loop else clauses
ليكن العناصر_الموجودة = خطأ
لكل عنصر في مدى(3):
    إذا عنصر == 10:
        العناصر_الموجودة = صحيح
        توقف
وإلا:
    العناصر_الموجودة = "not_found"

ليكن قيمة_while_else = 0
طالما قيمة_while_else < 2:
    قيمة_while_else = قيمة_while_else + 1
وإلا:
    قيمة_while_else = قيمة_while_else + 10

# Starred unpacking variations
ليكن a, *الباقي = [10, 20, 30, 40]
ليكن *init, b = [10, 20, 30, 40]
ليكن c, *الوسط, d = [10, 20, 30, 40]

# Set comprehension
ليكن مجموعة_المربعات = {x * x لكل x في مدى(5)}

# Extended builtins
ليكن نتيجة_القوة = قوة(2, 8)
ليكن نتيجة_divmod = قسمة_باقي(17, 5)

# Yield from generator
دالة مولد_التفويض():
    أنتج من مدى(3)

ليكن المفوض = قائمة(مولد_التفويض())

طباعة(العناصر_الموجودة, قيمة_while_else)
طباعة(a, الباقي, init, b, c, الوسط, d)
طباعة(مرتب(مجموعة_المربعات))
طباعة(نتيجة_القوة, نتيجة_divmod)
طباعة(المفوض)
