导入 math
从 math 导入 sqrt 作为 root_fn

令 共享_计数器 = 3

函数 增加_全局():
    全局 共享_计数器
    共享_计数器 = 共享_计数器 + 2
    返回 共享_计数器

函数 创建_计数器(开始值):
    令 total = 开始值
    函数 步进():
        非局部 total
        total = total + 1
        返回 total
    返回 步进

令 下一个_计数器 = 创建_计数器(5)
令 第一步 = 下一个_计数器()
令 第二步 = 下一个_计数器()

使用 打开("tmp_complete_en.txt", "w", encoding="utf-8") 作为 写入_句柄:
    写入_句柄.write("ok")

令 文件_文本 = ""
使用 打开("tmp_complete_en.txt", "r", encoding="utf-8") 作为 读取_句柄:
    文件_文本 = 读取_句柄.read()

令 配对_项 = 列表(配对([1, 2, 3], [4, 5, 6]))
令 唯一_值 = 集合([1, 1, 2, 3])
令 固定_值 = 元组([10, 20, 30])
令 第一个_元素, *中间_元素, 最后_元素 = [1, 2, 3, 4]
令 合并_映射 = {**{"x": 1}, **{"y": 2}}

函数 格式_标签(a, /, *, b):
    返回 f"{a}-{b:.1f}"

令 标签_格式化 = 格式_标签(7, b=3.5)
令 种子 = 0
令 胡须_值 = (种子 := 种子 + 9)

类 计数器_盒子:
    函数 __init__(self, 起始_基值):
        self.值 = 起始_基值

类 计数器_子盒子(计数器_盒子):
    函数 __init__(self, 起始_基值):
        父类(计数器_子盒子, self).__init__(起始_基值)
        self.值 = self.值 + 1

函数 生成_三个():
    对于 索引 里 范围(3):
        产出 索引

令 总_生成 = 总和(生成_三个())
令 处理_的 = 假

尝试:
    如果 长度(唯一_值) > 2:
        抛出 ValueError("boom")
除了 ValueError 作为 处理_错误:
    处理_的 = 真
最终:
    令 根_值 = 整数(root_fn(16))

令 临时_值 = 99
删除 临时_值

令 循环_累积 = 0
对于 n 里 范围(6):
    如果 n == 0:
        过
    如果 n == 4:
        终止
    如果 n % 2 == 0:
        继续
    循环_累积 = 循环_累积 + n

令 标志_正常 = 真 且 非 假
断言 标志_正常

令 子_盒子 = 计数器_子盒子(40)

打印(增加_全局())
打印(第一步, 第二步)
打印(文件_文本)
打印(长度(配对_项), 长度(唯一_值), 固定_值[1])
打印(第一个_元素, 中间_元素, 最后_元素)
打印(子_盒子.值)
打印(总_生成, 根_值, 处理_的)
打印(合并_映射["x"] + 合并_映射["y"], 标签_格式化, 胡须_值)
打印(循环_累积)
打印(共享_计数器 是 空)

# Loop else clauses
令 元素_找到 = 假
对于 元素 里 范围(3):
    如果 元素 == 10:
        元素_找到 = 真
        终止
否则:
    元素_找到 = "not_found"

令 当_否则_值 = 0
当 当_否则_值 < 2:
    当_否则_值 = 当_否则_值 + 1
否则:
    当_否则_值 = 当_否则_值 + 10

# Starred unpacking variations
令 a, *剩余 = [10, 20, 30, 40]
令 *init, b = [10, 20, 30, 40]
令 c, *中间, d = [10, 20, 30, 40]

# Set comprehension
令 平方_集合 = {x * x 对于 x 里 范围(5)}

# Extended builtins
令 幂_结果 = 幂(2, 8)
令 divmod_结果 = 商余(17, 5)

# Yield from generator
函数 委托_生成器():
    产出 从 范围(3)

令 委托_的 = 列表(委托_生成器())

打印(元素_找到, 当_否则_值)
打印(a, 剩余, init, b, c, 中间, d)
打印(排序(平方_集合))
打印(幂_结果, divmod_结果)
打印(委托_的)
